[tools]
bun = "1.3.9"
go = "1.24.7"
golangci-lint = "1.64.8"

[tasks.dev]
run = "bunx vercel dev"

[tasks.install]
depends = ["install:*"]
description = "Install dependencies"

[tasks."install:go"]
run = "go mod download"
description = "Install Go dependencies"

[tasks."install:bun"]
run = "bun install"
description = "Install Bun dependencies"

[tasks.test]
depends = ["test:*"]
description = "Run tests"

[tasks."test:go"]
run = "go test ./..."
description = "Run Go tests"

[tasks.lint]
depends = ["lint:*"]
description = "Run all linters"

[tasks."lint:golangci-lint"]
run = "golangci-lint run"
description = "Run Go linter"

[tasks."lint:prettier"]
run = "bunx prettier --check ."
description = "Lint with Prettier"

[tasks.fmt]
depends = ["fmt:*"]
description = "Format all files"

[tasks."fmt:golangci-lint"]
run = "golangci-lint run --fix"
description = "Format Go files"

[tasks."fmt:prettier"]
run = "bunx prettier --write ."
description = "Format with Prettier"

[tasks.codegen]
depends = ["codegen:*"]
description = "Run code generation"

[tasks."codegen:go"]
run = "go mod tidy"
description = "Update Go modules"

[tasks.ci]
depends = ["lint", "test"]
description = "Run CI pipeline"
